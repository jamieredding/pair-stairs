services:
  pair_stairs_web:
    image: ghcr.io/jamieredding/pair-stairs-web:latest
    hostname: web
    restart: unless-stopped
    env_file: application.env
    networks:
      - pair_stairs_net
    ports:
      - "${BACKEND_PORT}:8080"
# Example of mounting your own properties
#    volumes:
#      - "./application.properties:/opt/application.properties"
    depends_on:
      - pair_stairs_db

  pair_stairs_db:
    image: mysql:8.4.6
    hostname: db
    restart: unless-stopped
    env_file: application.env
    networks:
      - pair_stairs_net
    ports:
      - "${DB_PORT}:3306"
    volumes:
      - pair_stairs_db:/var/lib/mysql

volumes:
  pair_stairs_db:

networks:
  pair_stairs_net:
