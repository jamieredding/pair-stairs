{
  "mappings": [
    {
      "request": {
        "method": "POST",
        "urlPath": "/api/v1/combinations/calculate",
        "queryParameters": {
          "page": {
            "matches": "\\d+"
          }
        },
        "headers": {
          "Content-Type": {
            "equalTo": "application/json"
          }
        },
        "bodyPatterns": [
          {"matchesJsonPath": "$[?(@.developerIds.length() > 0)]"},
          {"matchesJsonPath": "$[?(@.streamIds.length() > 0)]"}
        ]
      },
      "response": {
        "status": 200,
        "body": "[{\"score\": 10, \"combination\": [{\"developers\": [{\"id\": 0, \"displayName\": \"dev-0\"}, {\"id\": 1, \"displayName\": \"dev-1\"}], \"stream\": {\"id\": 0, \"displayName\": \"stream-a\"}}, {\"developers\": [{\"id\": 2, \"displayName\": \"dev-2\"}], \"stream\": {\"id\": 1, \"displayName\": \"stream-b\"}}]}, {\"score\": 20, \"combination\": [{\"developers\": [{\"id\": 0, \"displayName\": \"dev-0\"}, {\"id\": 2, \"displayName\": \"dev-2\"}], \"stream\": {\"id\": 0, \"displayName\": \"stream-a\"}}, {\"developers\": [{\"id\": 1, \"displayName\": \"dev-1\"}], \"stream\": {\"id\": 1, \"displayName\": \"stream-b\"}}]}]"
      }
    },
    {
      "request": {
        "method": "POST",
        "url": "/api/v1/combinations/event",
        "headers": {
          "Content-Type": {
            "equalTo": "application/json"
          }
        },
        "bodyPatterns": [
          {"matchesJsonPath": "$[?(@.date =~ /\\d{4}-\\d{2}-\\d{2}/)]"},
          {"matchesJsonPath": "$.combination[?(@)]"},
          {"matchesJsonPath": "$.combination[*].developerIds[?(@)]"},
          {"matchesJsonPath": "$[?(@.combination[*].streamId =~ /\\d+/)]"}
        ]
      },
      "response": {
        "status": 201
      }
    }
  ]
}